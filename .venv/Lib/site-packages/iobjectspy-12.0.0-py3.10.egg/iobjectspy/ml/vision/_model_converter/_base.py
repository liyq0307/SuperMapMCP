from collections import OrderedDict
import yaml
from ...toolkit._toolkit import save_config_to_yaml


class BaseConverter:
    def __init__(self):
        pass

    def _save_model(self, cfg, cfg_path, model_format='torchscript'):

        config = {'model_format': model_format}
        with open(cfg, encoding='utf8') as f:
            cfg = yaml.load(f, Loader=yaml.FullLoader)
        config.update(cfg)

        return save_config_to_yaml(OrderedDict(config), cfg_path)